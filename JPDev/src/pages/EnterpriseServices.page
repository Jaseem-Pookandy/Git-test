<apex:page Controller="EnterpriseServicesController" showHeader="true" tabStyle="ContactHistoryCache__c" > 
	<apex:form id="frmEnterpriseServices">
 	
	 	<apex:sectionHeader title="Enterprise Services"/>
	 	           
        <apex:pageBlock id="PageBlock" mode="edit">
        
        	<apex:outputPanel id="errorMessages" style="width: 100%;">
        		<br/>
        		<blockquote>
	        		<apex:pageMessage severity="info" strength="1" title="" rendered="{!errors.size > 0}" escape="false" >
	        		
        				<apex:image value="https://dice--c.na12.content.force.com/servlet/servlet.ImageServer?id=015U0000001u5Oy&oid=00Dd0000000c1oz&lastMod=1387296992000" rendered="{!errors.size > 0}" />
        			
                    	<apex:dataList value="{!errors}" var="specificError">
                    		{!specificError}
                    	</apex:dataList>
	            	</apex:pageMessage>
            	</blockquote>
            	
				<apex:pageBlockSection id="Information" title="Contact Address Audit" collapsible="false" columns="1">   

            		<apex:outputPanel >
            			<div style="text-align:center;">
	            			Before the 'Contact Address Audit' report is run (for contacts that are marked as Bill-To on Quotes only), the data must be organized.<Br/><br/>
	            			To do this, select the number of days back worth of contact address changes you're interested in reviewing and then press the 'Begin the Audit' button.<br/><br/>
	            			Note that this may take a while.  You must stay on this page for the process to complete (and so that you can be automatically forwarded to the report upon completion).
            			</div>
            		</apex:outputPanel>

	            </apex:pageBlockSection>

	            <br/><br/>

            	<apex:pageBlockSection id="ContactAddressAudit" collapsible="false" columns="2">   

            		<apex:pageBlockSectionItem >
            			<apex:outputLabel value="Past Days to Include:" for="daysBackddl" />

							<apex:outputPanel >            			
	                			<div class="requiredInput">
	                    			<div class="requiredBlock"></div>
	                    			<apex:selectList id="daysBackddl" value="{!daysToConsider}" size="1" >
										<apex:selectOptions value="{!daysOptions}" />
									</apex:selectList>
	                			</div>	                		
	            			</apex:outputPanel>
            		</apex:pageBlockSectionItem>

	            	<apex:commandButton value="Begin the Audit" action="{!BeginTheAudit}" />

	            </apex:pageBlockSection>
            	
            </apex:outputPanel>
        </apex:pageBlock>
    </apex:form>
</apex:page>