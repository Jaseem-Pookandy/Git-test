<apex:page standardController="Account" extensions="MassUpdateAccountBrandsController" showHeader="true" tabStyle="Account_Brand__c" >
  
  <apex:form id="updateAB">

  	<apex:sectionHeader title="Mass Update Account Brands"/>

	<apex:pageBlock id="pb" mode="edit">

		<apex:outputPanel id="errorMessages" style="width: 100%;">
			<apex:pageMessage severity="error" strength="3" title="Unable to save until the following errors are corrected:" rendered="{!errors.size > 0}">
            	<apex:dataList value="{!errors}" var="specificError">
            		{!specificError}
            	</apex:dataList>
    		</apex:pageMessage>
    	</apex:outputPanel>

		<apex:pageBlockButtons >
			<apex:commandButton action="{!SaveItAll}" value="Save" />
			<apex:commandButton action="{!cancel}" value="Cancel" />
		</apex:pageBlockButtons>        

		<apex:pageBlockSection id="acc_details" title="Account Details" collapsible="false" columns="2">   
			<apex:outputField value="{!thisAccount.Name}" />
			<apex:outputField value="{!thisAccount.Account_Number__c}" />
		</apex:pageBlockSection>

		<apex:pageBlockSection id="accountBrands" title="Account Brands" collapsible="false" columns="1">												
				
		 	<apex:pageBlockTable value="{!accountBrands}" var="ab" style="width:75%;" align="center">			
				<apex:variable var="rowNum" value="{!0}"  />   
				
				<apex:column >
					<apex:facet name="header">Brand</apex:facet>
					<apex:outputField value="{!ab.Brand_Name__c}" />
				</apex:column>
				<apex:column >
					<apex:facet name="header">Primary Owner</apex:facet>
					<apex:inputField value="{!ab.Primary_Owner__c}" required="false" />
				</apex:column>
				<apex:column >
					<apex:facet name="header">Support Owner</apex:facet>
					<apex:inputField value="{!ab.CS__c}" required="false" />
				</apex:column>
		
			</apex:pageBlockTable>		
		</apex:pageBlockSection>

	</apex:pageBlock>
  </apex:form>
</apex:page>